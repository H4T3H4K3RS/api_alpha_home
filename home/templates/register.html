<!doctype html>
<html lang="ru">

<head>
    {% load static %} {% load socialaccount %} {% load recaptcha2 %}
    <link rel="icon" href="{% static 'favicon.ico' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="{% static 'mdb-pro/css/bootstrap.min.css' %}" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="{% static 'mdb-pro/css/mdb.min.css' %}" rel="stylesheet">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    {% recaptcha_init %} <script>
        window.onload = function() {
            var $recaptcha = document.querySelector('#g-recaptcha-response');
            if ($recaptcha) {
                $recaptcha.setAttribute("required", "required");
            }
        };

    </script>
    <style>
        #g-recaptcha-response {
            display: block !important;
            position: absolute;
            margin: -78px 0 0 0 !important;
            width: 302px !important;
            height: 76px !important;
            z-index: -999999;
            opacity: 0;
        }

    </style>
    <title>Регистрация</title>
    <style>
        .info-color {
            background-color: #23d160 !important;
        }

        .card-body {
            background-color: #262626 !important;
        }

        .btn-outline-info {
            border-color: #23d160 !important;
            color: #1e9f50 !important;
        }

        body {
            background-color: #262626 !important;
        }

    </style>
    {% include "onesignal.html" %}
</head>

<body>
    {% include 'metrics.html' %}
    <div class="container">
        <div class="row">
            <div class="m-5 col-xs-5 px-5 py-lg-5">
                <div class="card">
                    <a class="position-absolute white-text" style="font-size: 50px;" onclick="history.go(-1);">&nbsp; &#8249;</a>
                    <h5 class="card-header info-color white-text text-center py-4">
                        <strong>Регистрация</strong>
                    </h5>

                    <!--Card content-->
                    <div class="card-body px-lg-5 pt-0">

                        <!-- Form -->
                        <form class="text-center" action="{% url 'signup' %}" method="post" style="color: #757575;">
                            {% csrf_token %}
                            <div class="form-row">
                                <div class="col">
                                    <!-- First name -->
                                    <div class="md-form">
                                        {{ form.first_name }}
                                        <label for="materialRegisterFormFirstName">Имя</label>
                                    </div>
                                </div>
                                <div class="col">
                                    <!-- Last name -->
                                    <div class="md-form">
                                        {{ form.last_name }}
                                        <label for="materialRegisterFormLastName">Фамилия</label>
                                    </div>
                                </div>
                            </div>

                            <!-- E-mail -->
                            <div class="md-form mt-0">
                                {{ form.email }}
                                <label for="materialRegisterFormEmail">E-mail</label>
                            </div>
                            <div class="md-form mt-0">
                                {{ form.username }}
                                <label for="materialRegisterFormUsername">Имя пользователя</label>
                            </div>

                            <!-- Password -->
                            <div class="md-form">
                                {{ form.password }}
                                <label for="materialRegisterFormPassword">Пароль</label>
                            </div>
                            <div class="md-form">
                                {{ form.password2 }}
                                <label for="materialRegisterFormPassword">Подтвердите Пароль</label>
                            </div>
                            {{ form.recaptcha }}
                            <!-- Sign up button -->
                            <button class="btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0" type="submit">Зарегистрироваться</button>
                            <p>Уже зарегистрированы?
                                <a href="{% url 'login' %}">Войти</a>
                            </p>
                            <p>с помощью соц.сетей</p>
                            <a href="{% provider_login_url 'facebook' process=" login" %}" type="button" class="btn-floating btn-fb btn-sm">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="{% provider_login_url 'google' process=" login" %}" type="button" class="btn-floating btn-gplus btn-sm">
                                <i class="fab fa-google"></i>
                            </a>
                            <a href="{% provider_login_url 'vk' process=" login" %}" type="button" class="btn-floating btn-vk btn-sm">
                                <i class="fab fa-vk"></i>
                            </a>
                            <a href="{% provider_login_url 'github' process=" login" %}" type="button" class="btn-floating btn-git btn-sm">
                                <i class="fab fa-github"></i>
                            </a>
                            <hr>
                            {% if messages %}
                            <div class="alert alert-danger" role="alert">
                                {% for message in messages %}
                                {{ message }}
                                <br>
                                {% endfor %}
                            </div>
                            {% endif %}
                            <!-- Terms of service -->
                            <p>Нажимая кнопку
                                <em>Зарегистрироваться</em> вы принимаете наши
                                <a href="{% url 'agreement' %}" target="_blank">условия использования.</a>

                        </form>
                        <!-- Form -->

                    </div>

                </div>
                <!-- Form -->
            </div>
        </div>
    </div>

    <script src='https://www.google.com/recaptcha/api.js'></script>
    <!-- Material form login -->
    <script type="text/javascript" src="{% static 'mdb-pro/js/jquery-3.3.1.min.js'%}"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="{% static 'mdb-pro/js/popper.min.js'%}"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="{% static 'mdb-pro/js/bootstrap.min.js'%}"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="{% static 'mdb-pro/js/mdb.min.js'%}"></script>
</body>

</html>
